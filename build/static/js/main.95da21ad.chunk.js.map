{"version":3,"sources":["redux/User/user.types.js","redux/User/user.reducer.js","redux/Products/products.types.js","redux/Products/products.reducer.js","redux/Cart/cart.types.js","redux/Cart/cart.utils.js","redux/Cart/cart.reducer.js","redux/Orders/orders.types.js","redux/Orders/orders.reducer.js","redux/rootReducer.js","firebase/utils.js","firebase/config.js","redux/User/user.actions.js","redux/User/user.helpers.js","redux/User/user.sagas.js","redux/Products/products.actions.js","redux/Products/products.helpers.js","redux/Products/products.sagas.js","redux/Orders/orders.helpers.js","redux/Cart/cart.actions.js","redux/Orders/orders.actions.js","redux/Orders/orders.sagas.js","redux/rootSaga.js","redux/createStore.js","Utils/index.js","components/AdminToolbar/index.js","customHooks/useAuth.js","customHooks/useAdminAuth.js","hoc/withAuth.js","hoc/withAdminAuth.js","redux/Cart/cart.selectors.js","components/Header/index.js","components/Footer/index.js","layouts/MainLayout.js","layouts/HomepageLayout.js","components/UserProfile/index.js","components/VerticalNav/index.js","layouts/AdminLayout.js","layouts/DashboardLayout.js","components/Directory/index.js","pages/Homepage/index.js","components/forms/Button/index.js","components/ProductResults/Product/index.js","components/forms/FormSelect/index.js","components/LoadMore/index.js","components/ProductResults/index.js","pages/Search/index.js","components/AuthWrapper/index.js","components/forms/FormInput/index.js","components/Signup/index.js","pages/Registration/index.js","components/SignIn/index.js","pages/Login/index.js","components/EmailPassword/index.js","pages/Recovery/index.js","components/OrderHistory/index.js","pages/Dashboard/index.js","components/Modal/index.js","pages/Admin/index.js","components/ProductCard/index.js","pages/ProductDetails/index.js","components/Checkout/Item/index.js","components/Checkout/index.js","pages/Cart/index.js","components/PaymentDetails/index.js","pages/Payment/index.js","stripe/config.js","components/OrderDetails/index.js","pages/Order/index.js","App.js","index.js","assets/logo-PNG.png","assets/user.png","assets/shopMens.jpg","assets/shopWomens.jpg"],"names":["userTypes","EMAIL_SIGN_IN_START","SIGN_IN_SUCCESS","CHECK_USER_SESSION","SIGN_OUT_USER_START","SIGN_OUT_USER_SUCCESS","SIGN_UP_USER_START","RESET_PASSWORD_START","RESET_PASSWORD_SUCCESS","GOOGLE_SIGN_IN_START","USER_ERROR","RESET_USER_STATE","INITIAL_STATE","currentUser","resetPasswordSuccess","userErr","userReducer","state","action","type","payload","productsTypes","ADD_NEW_PRODUCT_START","FETCH_PRODUCTS_START","SET_PRODUCTS","DELETE_PRODUCT_START","FETCH_PRODUCT_START","SET_PRODUCT","products","product","productsReducer","productTypes","cartTypes","ADD_TO_CART","REMOVE_CART_ITEM","REDUCE_CART_ITEM","CLEAR_CART","handleAddToCart","prevCartItems","nextCartItem","find","cartItem","documentID","existingCartItem","map","quantity","handleRemoveCartItem","cartItemToRemove","filter","item","handleReduceCartItem","cartItemToReduce","cartItems","cartReducer","ordersTypes","SAVE_ORDER_HISTORY_START","GET_USER_ORDER_HISTORY_START","SET_USER_ORDER_HISOTRY","GET_ORDER_DETAILS_START","SET_ORDER_DETAILS","orderHistory","orderDetails","ordersReducer","rootReducer","combineReducers","user","productsData","cartData","ordersData","configStorage","key","storage","whitelist","persistReducer","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","firestore","GoogleProvider","GoogleAuthProvider","setCustomParameters","prompt","handleUserProfile","a","userAuth","additionalData","uid","userRef","doc","get","exists","displayName","email","timestamp","Date","userRoles","set","createdDate","signInSuccess","signOutUserStart","userError","err","handleResetPasswordAPI","config","url","Promise","resolve","reject","sendPasswordResetEmail","then","catch","getSnapshotFromUserAuth","emailSignIn","onEmailSignInStart","isUserAuthenticated","onCheckUserSession","signOutUser","onSignOutUserStart","signUpUser","onSignUpUserStart","resetPassword","onResetPasswordStart","googleSignIn","onGoogleSignInStart","userSagas","call","snapshot","put","id","data","password","signInWithEmailAndPassword","takeLatest","unsubscribe","onAuthStateChanged","signOut","confirmPassword","createUserWithEmailAndPassword","console","log","signInWithPopup","all","fetchProductsStart","filters","setProducts","setProduct","handleAddProduct","collection","handleFetchProducts","filterType","startAfterDoc","persistProducts","ref","orderBy","limit","where","startAfter","totalCount","size","docs","queryDoc","isLastPage","handleDeleteProduct","delete","handleFetchProduct","productID","addProduct","onAddProductStart","fetchProducts","onFetchProductsStart","deleteProduct","onDeleteProductStart","fetchProduct","onFetchProductStart","productsSagas","productAdminUserUID","handleSaveOrder","order","handleGetUserOrderHistory","snap","handleGetOrder","orderID","setUserOrderHistory","history","setOrderDetails","getUserOrderHistory","onGetUserOrderHistoryStart","saveOrder","onSaveOrderHistoryStart","getOrderDetails","onGetOrderDetailsStart","ordersSagas","timestamps","orderUserID","orderCreatedDate","rootSaga","sagaMiddleware","createSagaMiddle","middlewares","thunk","logger","store","createStore","applyMiddleware","run","persistor","persistStore","checkUserIsAdmin","Array","isArray","includes","apiInstance","axios","create","baseURL","mapState","AdminToolbar","props","useSelector","className","to","useAuth","useHistory","useEffect","push","useAdminAuth","WithAuth","children","WithAdminAuth","selectCartItems","createSelector","selectCartItemsCount","reduce","selectCartTotal","productPrice","totalNumCartItems","Header","location","useLocation","useState","activeMenu","setActiveMenu","dispatch","useDispatch","src","Logo","alt","class","onClick","defaultProps","Footer","MainLayout","HomepageLayout","UserProfile","userIMG","VerticalNav","configUserProfile","AdminLayout","DashBoardLayout","Directory","style","backgroundImage","ShopWomen","ShopMen","Homepage","Button","otherProps","Product","productThumbnail","productName","FormSelect","options","defaultValue","handleChange","label","length","value","onChange","option","index","name","LoadMore","onLoadMoreEvt","ProductResults","useParams","configFilters","e","nextFilter","target","configLoadMore","pos","configProduct","Search","AuthWrapper","headline","FormInput","Signup","setDisplayName","setEmail","setPassword","setConfirmPassword","errors","setErrors","reset","configAuthWrapper","onSubmit","event","preventDefault","placeholder","Registration","SignIn","resetForm","Login","EmailPassword","Recovery","columns","lable","styles","fontSize","cursor","width","OrderHistory","orders","TableContainer","Table","TableHead","TableRow","column","TableCell","TableBody","row","columnName","formattedText","columnValue","moment","nano","format","formatText","Dashboard","Modal","hideModal","toggleModal","Admin","setHideModal","productCategory","setProductCategory","setProductName","setProductThumbnail","setProductPrice","productDesc","setProductDesc","configModal","min","max","step","evt","editor","getData","border","cellPadding","cellSpacing","ProductCard","fetchProductStart","dangerouslySetInnerHTML","__html","ProductDetails","Item","handleReduceItem","align","createStructuredSelector","total","Checkout","goBack","Cart","initialAddressState","line1","line2","city","postal_code","country","itemCount","PaymentDetails","stripe","useStripe","elements","useElements","billingAddress","setBillingAddress","shippingAddress","setShippingAddress","recipientName","setRecipientName","nameOnCard","setNameOnCard","handleShipping","handleBilling","handleFormSubmit","cardElement","getElement","post","amount","shipping","address","clientSecret","createPaymentMethod","card","billing_details","paymentMethod","confirmCardPayment","payment_method","paymentIntent","configOrder","orderTotal","orderItems","required","val","valueType","iconStyle","base","hidePostalCode","stripePromise","loadStripe","Payment","OrderDetails","col","Order","getOrderDetailsStart","App","exact","path","render","DashboardLayout","ReactDOM","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.95da21ad.chunk.js","sourcesContent":["const userTypes = {\r\n  EMAIL_SIGN_IN_START: 'EMAIL_SIGN_IN_START',\r\n  SIGN_IN_SUCCESS: 'SIGN_IN_SUCCESS',\r\n  CHECK_USER_SESSION: 'CHECK_USER_SESSION',\r\n  SIGN_OUT_USER_START: 'SIGN_OUT_USER_START',\r\n  SIGN_OUT_USER_SUCCESS: 'SIGN_OUT_USER_SUCCESS',\r\n  SIGN_UP_USER_START: 'SIGN_UP_USER_START',\r\n  RESET_PASSWORD_START: 'RESET_PASSWORD_START',\r\n  RESET_PASSWORD_SUCCESS: 'RESET_PASSWORD_SUCCESS',\r\n  GOOGLE_SIGN_IN_START: 'GOOGLE_SIGN_IN_START',\r\n  USER_ERROR: 'USER_ERROR',\r\n  RESET_USER_STATE: 'RESET_USER_STATE'\r\n};\r\n\r\nexport default userTypes;","import userTypes from './user.types';\r\n\r\nconst INITIAL_STATE = {\r\n  currentUser: null,\r\n  resetPasswordSuccess: false,\r\n  userErr: []\r\n};\r\n\r\nconst userReducer = (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case userTypes.SIGN_IN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        currentUser: action.payload,\r\n        userErr: []\r\n      }\r\n    case userTypes.RESET_PASSWORD_SUCCESS:\r\n      return {\r\n        ...state,\r\n        resetPasswordSuccess: action.payload\r\n      }\r\n    case userTypes.USER_ERROR:\r\n      return {\r\n        ...state,\r\n        userErr: action.payload\r\n      }\r\n    case userTypes.RESET_USER_STATE:\r\n    case userTypes.SIGN_OUT_USER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        ...INITIAL_STATE\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userReducer;","const productsTypes = {\r\n  ADD_NEW_PRODUCT_START: 'ADD_NEW_PRODUCT_START',\r\n  FETCH_PRODUCTS_START: 'FETCH_PRODUCTS_START',\r\n  SET_PRODUCTS: 'SET_PRODUCTS',\r\n  DELETE_PRODUCT_START: 'DELETE_PRODUCT_START',\r\n  FETCH_PRODUCT_START: 'FETCH_PRODUCT_START',\r\n  SET_PRODUCT: 'SET_PRODUCT',\r\n};\r\n\r\nexport default productsTypes;","import productsTypes from './products.types';\r\nimport productTypes from './products.types';\r\n\r\nconst INITIAL_STATE = {\r\n  products: [],\r\n  product: {},\r\n};\r\n\r\nconst productsReducer = (state=INITIAL_STATE, action) => {\r\n  switch(action.type) {\r\n    case productTypes.SET_PRODUCTS:\r\n      return {\r\n        ...state,\r\n        products: action.payload\r\n      }\r\n    case productsTypes.SET_PRODUCT:\r\n      return {\r\n        ...state,\r\n        product: action.payload\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default productsReducer;","const cartTypes = {\r\n  ADD_TO_CART: 'ADD_TO_CART',\r\n  REMOVE_CART_ITEM: 'REMOVE_CART_ITEM',\r\n  REDUCE_CART_ITEM: 'REDUCE_CART_ITEM',\r\n  CLEAR_CART: 'CLEAR_CART'\r\n};\r\n\r\nexport default cartTypes;","export const existingCartItem = ({\r\n  prevCartItems,\r\n  nextCartItem\r\n}) => {\r\n  return prevCartItems.find(\r\n    cartItem => cartItem.documentID === nextCartItem.documentID\r\n  );\r\n};\r\n\r\nexport const handleAddToCart = ({\r\n  prevCartItems,\r\n  nextCartItem\r\n}) => {\r\n  const quantityIncrement = 1;\r\n  const cartItemExists = existingCartItem({ prevCartItems, nextCartItem });\r\n\r\n  if (cartItemExists) {\r\n    return prevCartItems.map(cartItem =>\r\n      cartItem.documentID == nextCartItem.documentID\r\n        ? {\r\n          ...cartItem,\r\n          quantity: cartItem.quantity + quantityIncrement\r\n        } : cartItem\r\n    );\r\n  }\r\n\r\n  return [\r\n    ...prevCartItems,\r\n    {\r\n      ...nextCartItem,\r\n      quantity: quantityIncrement\r\n    }\r\n  ];\r\n};\r\n\r\nexport const handleRemoveCartItem = ({\r\n  prevCartItems,\r\n  cartItemToRemove\r\n}) => {\r\n  return prevCartItems.filter(item => item.documentID !== cartItemToRemove.documentID);\r\n}\r\n\r\nexport const handleReduceCartItem = ({\r\n  prevCartItems,\r\n  cartItemToReduce\r\n}) => {\r\n  const existingCartItem = prevCartItems.find(cartItem =>\r\n    cartItem.documentID === cartItemToReduce.documentID);\r\n\r\n  if (existingCartItem.quantity === 1) {\r\n    return prevCartItems.filter(\r\n      cartItem => cartItem.documentID !== existingCartItem.documentID\r\n    );\r\n  }\r\n\r\n  return prevCartItems.map(cartItem =>\r\n    cartItem.documentID === existingCartItem.documentID ?\r\n    {\r\n      ...cartItem,\r\n      quantity: cartItem.quantity - 1\r\n    } : cartItem)\r\n};","import cartTypes from './cart.types';\r\nimport { handleAddToCart, handleRemoveCartItem,\r\n  handleReduceCartItem } from './cart.utils';\r\n\r\nconst INITIAL_STATE = {\r\n  cartItems: []\r\n};\r\n\r\nconst cartReducer = (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case cartTypes.ADD_TO_CART:\r\n      return {\r\n        ...state,\r\n        cartItems: handleAddToCart({\r\n          prevCartItems: state.cartItems,\r\n          nextCartItem: action.payload\r\n        })\r\n      };\r\n    case cartTypes.REDUCE_CART_ITEM:\r\n      return {\r\n        ...state,\r\n        cartItems: handleReduceCartItem({\r\n          prevCartItems: state.cartItems,\r\n          cartItemToReduce: action.payload\r\n        })\r\n      };\r\n    case cartTypes.REMOVE_CART_ITEM:\r\n      return {\r\n        ...state,\r\n        cartItems: handleRemoveCartItem({\r\n          prevCartItems: state.cartItems,\r\n          cartItemToRemove: action.payload\r\n        })\r\n      };\r\n    case cartTypes.CLEAR_CART:\r\n      return {\r\n        ...state,\r\n        ...INITIAL_STATE\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default cartReducer;","const ordersTypes = {\r\n  SAVE_ORDER_HISTORY_START: 'SAVE_ORDER_HISTORY_START',\r\n  GET_USER_ORDER_HISTORY_START: 'GET_USER_ORDER_HISTORY_START',\r\n  SET_USER_ORDER_HISOTRY: 'SET_USER_ORDER_HISOTRY',\r\n  GET_ORDER_DETAILS_START: 'GET_ORDER_DETAILS_START',\r\n  SET_ORDER_DETAILS: 'SET_ORDER_DETAILS'\r\n};\r\n\r\nexport default ordersTypes;","import ordersTypes from './orders.types';\r\n\r\nconst INITIAL_STATE = {\r\n  orderHistory: [],\r\n  orderDetails: {},\r\n};\r\n\r\nconst ordersReducer = (state=INITIAL_STATE, action) => {\r\n  switch(action.type) {\r\n    case ordersTypes.SET_USER_ORDER_HISOTRY:\r\n      return {\r\n        ...state,\r\n        orderHistory: action.payload\r\n      };\r\n    case ordersTypes.SET_ORDER_DETAILS:\r\n      return {\r\n        ...state,\r\n        orderDetails: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default ordersReducer;\r\n","import { combineReducers } from 'redux';\r\nimport { persistReducer } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nimport userReducer from './User/user.reducer';\r\nimport productsReducer from './Products/products.reducer';\r\nimport cartReducer from './Cart/cart.reducer';\r\nimport ordersReducer from './Orders/orders.reducer';\r\n\r\nexport const rootReducer = combineReducers({\r\n  user: userReducer,\r\n  productsData: productsReducer,\r\n  cartData: cartReducer,\r\n  ordersData: ordersReducer,\r\n});\r\n\r\nconst configStorage = {\r\n  key: 'root',\r\n  storage,\r\n  whitelist: ['cartData']\r\n};\r\n\r\nexport default persistReducer(configStorage, rootReducer);\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\nimport { firebaseConfig } from './config';\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport const auth = firebase.auth();\r\nexport const firestore = firebase.firestore();\r\n\r\nexport const GoogleProvider = new firebase.auth.GoogleAuthProvider();\r\nGoogleProvider.setCustomParameters({ prompt: 'select_account' });\r\n\r\nexport const handleUserProfile = async ({ userAuth, additionalData }) => {\r\n  if (!userAuth) return;\r\n  const { uid } = userAuth;\r\n\r\n  const userRef = firestore.doc(`users/${uid}`);\r\n  const snapshot = await userRef.get();\r\n\r\n  if (!snapshot.exists) {\r\n    const { displayName, email } = userAuth;\r\n    const timestamp = new Date();\r\n    const userRoles = ['user'];\r\n\r\n    try {\r\n      await userRef.set({\r\n        displayName,\r\n        email,\r\n        createdDate: timestamp,\r\n        userRoles,\r\n        ...additionalData\r\n      });\r\n    } catch(err) {\r\n      // console.log(err);\r\n    }\r\n  }\r\n\r\n  return userRef;\r\n};\r\n\r\nexport const getCurrentUser = () => {\r\n  return new Promise((resolve, reject) => {\r\n    const unsubscribe = auth.onAuthStateChanged(userAuth => {\r\n      unsubscribe();\r\n      resolve(userAuth);\r\n    }, reject);\r\n  })\r\n}","// firebase config\r\nexport const firebaseConfig = {\r\n    apiKey: \"AIzaSyBiyWt_cZHs9W1lhjB7ddZkLk72iATaA_g\",\r\n  authDomain: \"ecommerce-web-f542a.firebaseapp.com\",\r\n  projectId: \"ecommerce-web-f542a\",\r\n  storageBucket: \"ecommerce-web-f542a.appspot.com\",\r\n  messagingSenderId: \"1088327479171\",\r\n  appId: \"1:1088327479171:web:47f4164e316b031b8690b6\"\r\n};","import userTypes from './user.types';\r\n\r\nexport const emailSignInStart = userCredentials => ({\r\n  type: userTypes.EMAIL_SIGN_IN_START,\r\n  payload: userCredentials\r\n});\r\n\r\nexport const signInSuccess = user => ({\r\n  type: userTypes.SIGN_IN_SUCCESS,\r\n  payload: user\r\n});\r\n\r\nexport const checkUserSession = () => ({\r\n  type: userTypes.CHECK_USER_SESSION\r\n});\r\n\r\nexport const signOutUserStart = () => ({\r\n  type: userTypes.SIGN_OUT_USER_START\r\n});\r\n\r\nexport const signOutUserSuccess = () => ({\r\n  type: userTypes.SIGN_OUT_USER_SUCCESS\r\n});\r\n\r\nexport const signUpUserStart = userCredentials => ({\r\n  type: userTypes.SIGN_UP_USER_START,\r\n  payload: userCredentials\r\n});\r\n\r\nexport const userError = err => ({\r\n  type: userTypes.USER_ERROR,\r\n  payload: err\r\n});\r\n\r\nexport const resetPasswordStart = userCredentials => ({\r\n  type: userTypes.RESET_PASSWORD_START,\r\n  payload: userCredentials\r\n});\r\n\r\nexport const resetPasswordSuccess = () => ({\r\n  type: userTypes.RESET_PASSWORD_SUCCESS,\r\n  payload: true\r\n});\r\n\r\nexport const resetUserState = () => ({\r\n  type: userTypes.RESET_USER_STATE\r\n});\r\n\r\nexport const googleSignInStart = () => ({\r\n  type: userTypes.GOOGLE_SIGN_IN_START\r\n});\r\n","import { auth } from './../../firebase/utils';\r\n\r\nexport const handleResetPasswordAPI = (email) => {\r\n  const config = {\r\n    url: 'http://localhost:3000/login'\r\n  };\r\n\r\n  return new Promise((resolve, reject) => {\r\n    auth.sendPasswordResetEmail(email, config)\r\n      .then(() => {\r\n        resolve();\r\n      })\r\n      .catch(() => {\r\n        const err = ['Email not found. Please try again.'];\r\n        reject(err);\r\n      });\r\n  });\r\n};","import { takeLatest, call, all, put } from 'redux-saga/effects';\r\nimport { auth, handleUserProfile, getCurrentUser, GoogleProvider } from './../../firebase/utils';\r\nimport userTypes from './user.types';\r\nimport { signInSuccess, signOutUserSuccess, resetPasswordSuccess, userError } from './user.actions';\r\nimport { handleResetPasswordAPI } from './user.helpers';\r\n\r\nexport function* getSnapshotFromUserAuth(user, additionalData = {}) {\r\n  try {\r\n    const userRef = yield call(handleUserProfile, { userAuth: user, additionalData });\r\n    const snapshot = yield userRef.get();\r\n    yield put(\r\n      signInSuccess({\r\n        id: snapshot.id,\r\n        ...snapshot.data()\r\n      })\r\n    );\r\n\r\n  } catch (err) {\r\n    // console.log(err);\r\n  }\r\n}\r\n\r\nexport function* emailSignIn({ payload: { email, password } }) {\r\n  try {\r\n    const { user } = yield auth.signInWithEmailAndPassword(email, password);\r\n    yield getSnapshotFromUserAuth(user);\r\n\r\n  } catch (err) {\r\n    // console.log(err);\r\n  }\r\n}\r\n\r\nexport function* onEmailSignInStart() {\r\n  yield takeLatest(userTypes.EMAIL_SIGN_IN_START, emailSignIn);\r\n}\r\n\r\nexport function* isUserAuthenticated() {\r\n  try {\r\n    const userAuth = yield getCurrentUser();\r\n    if (!userAuth) return;\r\n    yield getSnapshotFromUserAuth(userAuth);\r\n\r\n  } catch (err) {\r\n    // console.log(err);\r\n  }\r\n}\r\n\r\nexport function* onCheckUserSession() {\r\n  yield takeLatest(userTypes.CHECK_USER_SESSION, isUserAuthenticated);\r\n}\r\n\r\nexport function* signOutUser() {\r\n  try {\r\n    yield auth.signOut();\r\n    yield put(\r\n      signOutUserSuccess()\r\n    )\r\n\r\n  } catch (err) {\r\n    // console.log(err);\r\n  }\r\n}\r\n\r\nexport function* onSignOutUserStart() {\r\n  yield takeLatest(userTypes.SIGN_OUT_USER_START, signOutUser);\r\n}\r\n\r\nexport function* signUpUser({ payload: {\r\n  displayName,\r\n  email,\r\n  password,\r\n  confirmPassword\r\n} }) {\r\n\r\n  if (password !== confirmPassword) {\r\n    const err = ['Password Don\\'t match'];\r\n    yield put(\r\n      userError(err)\r\n    );\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const { user } = yield auth.createUserWithEmailAndPassword(email, password);\r\n    const additionalData = { displayName };\r\n    yield getSnapshotFromUserAuth(user, additionalData);\r\n\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n\r\n}\r\n\r\nexport function* onSignUpUserStart() {\r\n  yield takeLatest(userTypes.SIGN_UP_USER_START, signUpUser);\r\n}\r\n\r\nexport function* resetPassword({ payload: { email }}) {\r\n  try {\r\n    yield call(handleResetPasswordAPI, email);\r\n    yield put(\r\n      resetPasswordSuccess()\r\n    );\r\n\r\n  } catch (err) {\r\n    yield put(\r\n      userError(err)\r\n    )\r\n  }\r\n}\r\n\r\nexport function* onResetPasswordStart() {\r\n  yield takeLatest(userTypes.RESET_PASSWORD_START, resetPassword);\r\n}\r\n\r\nexport function* googleSignIn() {\r\n  try {\r\n    const { user } = yield auth.signInWithPopup(GoogleProvider);\r\n    yield getSnapshotFromUserAuth(user);\r\n\r\n  } catch (err) {\r\n    // console.log(err);\r\n  }\r\n}\r\n\r\nexport function* onGoogleSignInStart() {\r\n  yield takeLatest(userTypes.GOOGLE_SIGN_IN_START, googleSignIn);\r\n}\r\n\r\n\r\nexport default function* userSagas() {\r\n  yield all([\r\n    call(onEmailSignInStart),\r\n    call(onCheckUserSession),\r\n    call(onSignOutUserStart),\r\n    call(onSignUpUserStart),\r\n    call(onResetPasswordStart),\r\n    call(onGoogleSignInStart),\r\n  ])\r\n}","import productsTypes from './products.types';\r\n\r\nexport const addProductStart = productData => ({\r\n  type: productsTypes.ADD_NEW_PRODUCT_START,\r\n  payload: productData\r\n});\r\n\r\nexport const fetchProductsStart = (filters={}) => ({\r\n  type: productsTypes.FETCH_PRODUCTS_START,\r\n  payload: filters\r\n});\r\n\r\nexport const setProducts = products => ({\r\n  type: productsTypes.SET_PRODUCTS,\r\n  payload: products\r\n});\r\n\r\nexport const deleteProductStart = productID => ({\r\n  type: productsTypes.DELETE_PRODUCT_START,\r\n  payload: productID\r\n});\r\n\r\nexport const fetchProductStart = productID => ({\r\n  type: productsTypes.FETCH_PRODUCT_START,\r\n  payload: productID\r\n});\r\n\r\nexport const setProduct = product => ({\r\n  type: productsTypes.SET_PRODUCT,\r\n  payload: product\r\n});","import { firestore } from './../../firebase/utils';\r\n\r\nexport const handleAddProduct = product => {\r\n  return new Promise((resolve, reject) => {\r\n    firestore\r\n      .collection('products')\r\n      .doc()\r\n      .set(product)\r\n      .then(() => {\r\n        resolve();\r\n      })\r\n      .catch(err => {\r\n        reject(err);\r\n      })\r\n  });\r\n}\r\n\r\nexport const handleFetchProducts = ({ filterType, startAfterDoc, persistProducts=[] }) => {\r\n  return new Promise((resolve, reject) => {\r\n    const pageSize = 6;\r\n\r\n    let ref = firestore.collection('products').orderBy('createdDate').limit(pageSize);\r\n\r\n    if (filterType) ref = ref.where('productCategory', '==', filterType);\r\n    if (startAfterDoc) ref = ref.startAfter(startAfterDoc);\r\n\r\n    ref\r\n      .get()\r\n      .then(snapshot => {\r\n        const totalCount = snapshot.size;\r\n\r\n        const data = [\r\n          ...persistProducts,\r\n          ...snapshot.docs.map(doc => {\r\n            return {\r\n              ...doc.data(),\r\n              documentID: doc.id\r\n            }\r\n          })\r\n        ];\r\n\r\n        resolve({\r\n          data,\r\n          queryDoc: snapshot.docs[totalCount - 1],\r\n          isLastPage: totalCount < 1\r\n        });\r\n      })\r\n      .catch(err => {\r\n        reject(err);\r\n      })\r\n  })\r\n}\r\n\r\nexport const handleDeleteProduct = documentID => {\r\n  return new Promise((resolve, reject) => {\r\n    firestore\r\n      .collection('products')\r\n      .doc(documentID)\r\n      .delete()\r\n      .then(() => {\r\n        console.log(documentID, 2)\r\n        resolve();\r\n      })\r\n      .catch(err => {\r\n        reject(err);\r\n      })\r\n  });\r\n}\r\n\r\nexport const handleFetchProduct = (productID) => {\r\n  return new Promise((resolve, reject) => {\r\n    firestore\r\n      .collection('products')\r\n      .doc(productID)\r\n      .get()\r\n      .then(snapshot => {\r\n\r\n        if (snapshot.exists) {\r\n          resolve({\r\n            ...snapshot.data(),\r\n            documentID: productID\r\n          });\r\n        }\r\n      })\r\n      .catch(err => {\r\n        reject(err);\r\n      })\r\n  })\r\n}","import { auth } from './../../firebase/utils';\r\nimport { takeLatest, put, all, call } from 'redux-saga/effects';\r\nimport { setProducts, setProduct, fetchProductsStart } from './products.actions';\r\nimport { handleAddProduct, handleFetchProducts,\r\n  handleFetchProduct, handleDeleteProduct } from './products.helpers';\r\nimport productsTypes from './products.types';\r\n\r\nexport function* addProduct({ payload }) {\r\n\r\n  try {\r\n    const timestamp = new Date();\r\n    yield handleAddProduct({\r\n      ...payload,\r\n      productAdminUserUID: auth.currentUser.uid,\r\n      createdDate: timestamp\r\n    });\r\n    yield put(\r\n      fetchProductsStart()\r\n    );\r\n\r\n\r\n  } catch (err) {\r\n    // console.log(err);\r\n  }\r\n\r\n}\r\n\r\nexport function* onAddProductStart() {\r\n  yield takeLatest(productsTypes.ADD_NEW_PRODUCT_START, addProduct);\r\n}\r\n\r\nexport function* fetchProducts({ payload }) {\r\n  try {\r\n    const products = yield handleFetchProducts(payload);\r\n    yield put(\r\n      setProducts(products)\r\n    );\r\n\r\n  } catch (err) {\r\n    // console.log(err);\r\n  }\r\n}\r\n\r\nexport function* onFetchProductsStart() {\r\n  yield takeLatest(productsTypes.FETCH_PRODUCTS_START, fetchProducts);\r\n}\r\n\r\nexport function* deleteProduct({ payload }) {\r\n  try {\r\n    yield handleDeleteProduct(payload);\r\n    yield put (\r\n      fetchProductsStart()\r\n    );\r\n\r\n  } catch (err) {\r\n    // console.log(err);\r\n  }\r\n}\r\n\r\nexport function* onDeleteProductStart() {\r\n  yield takeLatest(productsTypes.DELETE_PRODUCT_START, deleteProduct);\r\n}\r\n\r\nexport function* fetchProduct({ payload }) {\r\n  try {\r\n    const product = yield handleFetchProduct(payload);\r\n    yield put(\r\n      setProduct(product)\r\n    );\r\n\r\n  } catch (err) {\r\n    // console.log(err);\r\n  }\r\n}\r\n\r\nexport function* onFetchProductStart() {\r\n  yield takeLatest(productsTypes.FETCH_PRODUCT_START, fetchProduct);\r\n}\r\n\r\nexport default function* productsSagas() {\r\n  yield all([\r\n    call(onAddProductStart),\r\n    call(onFetchProductsStart),\r\n    call(onDeleteProductStart),\r\n    call(onFetchProductStart),\r\n  ])\r\n}","import { firestore } from './../../firebase/utils';\r\n\r\nexport const handleSaveOrder = order => {\r\n  return new Promise((resolve, reject) => {\r\n    firestore\r\n      .collection('orders')\r\n      .doc()\r\n      .set(order)\r\n      .then(() => {\r\n        resolve();\r\n      })\r\n      .catch(err => {\r\n        reject(err);\r\n      });\r\n  });\r\n};\r\n\r\nexport const handleGetUserOrderHistory = uid => {\r\n  return new Promise((resolve, reject) => {\r\n    let ref = firestore.collection('orders').orderBy('orderCreatedDate');\r\n    ref = ref.where('orderUserID', '==', uid);\r\n\r\n    ref\r\n      .get()\r\n      .then(snap => {\r\n        const data = [\r\n          ...snap.docs.map(doc => {\r\n            return {\r\n              ...doc.data(),\r\n              documentID: doc.id\r\n            }\r\n          })\r\n        ];\r\n\r\n        resolve({ data });\r\n      })\r\n      .catch(err => {\r\n        reject(err);\r\n      });\r\n\r\n\r\n  });\r\n};\r\n\r\nexport const handleGetOrder = orderID => {\r\n  return new Promise((resolve, reject) => {\r\n    firestore\r\n      .collection('orders')\r\n      .doc(orderID)\r\n      .get()\r\n      .then(snap => {\r\n        if (snap.exists) {\r\n          resolve({\r\n            ...snap.data(),\r\n            documentID: orderID\r\n          })\r\n        }\r\n      })\r\n      .catch(err => {\r\n        reject(err);\r\n      })\r\n  })\r\n}\r\n","import cartTypes from './cart.types';\r\n\r\nexport const addProduct = (nextCartItem) => ({\r\n  type: cartTypes.ADD_TO_CART,\r\n  payload: nextCartItem\r\n});\r\n\r\nexport const removeCartItem = (cartItem) => ({\r\n  type: cartTypes.REMOVE_CART_ITEM,\r\n  payload: cartItem\r\n});\r\n\r\nexport const reduceCartItem = (cartItem) => ({\r\n  type: cartTypes.REDUCE_CART_ITEM,\r\n  payload: cartItem\r\n});\r\n\r\nexport const clearCart = () => ({\r\n  type: cartTypes.CLEAR_CART\r\n})","import ordersTypes from './orders.types';\r\n\r\nexport const saveOrderHistory = order => ({\r\n  type: ordersTypes.SAVE_ORDER_HISTORY_START,\r\n  payload: order\r\n});\r\n\r\nexport const getUserOrderHistory = uid => ({\r\n  type: ordersTypes.GET_USER_ORDER_HISTORY_START,\r\n  payload: uid\r\n});\r\n\r\nexport const setUserOrderHistory = history => ({\r\n  type: ordersTypes.SET_USER_ORDER_HISOTRY,\r\n  payload: history\r\n});\r\n\r\nexport const getOrderDetailsStart = orderID => ({\r\n  type: ordersTypes.GET_ORDER_DETAILS_START,\r\n  payload: orderID\r\n});\r\n\r\nexport const setOrderDetails = order => ({\r\n  type: ordersTypes.SET_ORDER_DETAILS,\r\n  payload: order\r\n});","import ordersTypes from './orders.types';\r\nimport { takeLatest, put, all, call } from 'redux-saga/effects';\r\nimport { handleSaveOrder, handleGetUserOrderHistory,\r\n  handleGetOrder } from './orders.helpers';\r\nimport { auth } from './../../firebase/utils';\r\nimport { clearCart } from './../Cart/cart.actions';\r\nimport { setUserOrderHistory, setOrderDetails } from './orders.actions';\r\n\r\nexport function* getUserOrderHistory({ payload }) {\r\n  try {\r\n    const history = yield handleGetUserOrderHistory(payload);\r\n    yield put(\r\n      setUserOrderHistory(history)\r\n    );\r\n\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n}\r\n\r\nexport function* onGetUserOrderHistoryStart() {\r\n  yield takeLatest(ordersTypes.GET_USER_ORDER_HISTORY_START, getUserOrderHistory);\r\n};\r\n\r\nexport function* saveOrder({ payload }) {\r\n  try {\r\n    const timestamps = new Date();\r\n    yield handleSaveOrder({\r\n      ...payload,\r\n      orderUserID: auth.currentUser.uid,\r\n      orderCreatedDate: timestamps\r\n    });\r\n    yield put(\r\n      clearCart()\r\n    )\r\n\r\n  } catch (err) {\r\n    // console.log(err);\r\n  }\r\n};\r\n\r\nexport function* onSaveOrderHistoryStart() {\r\n  yield takeLatest(ordersTypes.SAVE_ORDER_HISTORY_START, saveOrder);\r\n};\r\n\r\nexport function* getOrderDetails({ payload }) {\r\n  try {\r\n    const order = yield handleGetOrder(payload);\r\n    console.log(order)\r\n    yield put(\r\n      setOrderDetails(order)\r\n    )\r\n\r\n  } catch (err) {\r\n    // console.log(err);\r\n  }\r\n}\r\n\r\nexport function* onGetOrderDetailsStart() {\r\n  yield takeLatest(ordersTypes.GET_ORDER_DETAILS_START, getOrderDetails);\r\n};\r\n\r\nexport default function* ordersSagas() {\r\n  yield all([\r\n    call(onSaveOrderHistoryStart),\r\n    call(onGetUserOrderHistoryStart),\r\n    call(onGetOrderDetailsStart),\r\n  ])\r\n}\r\n","import { all, call } from 'redux-saga/effects';\r\n\r\nimport userSagas from './User/user.sagas';\r\nimport productsSagas from './Products/products.sagas';\r\nimport ordersSagas from './Orders/orders.sagas';\r\n\r\nexport default function* rootSaga() {\r\n  yield all([\r\n    call(userSagas),\r\n    call(productsSagas),\r\n    call(ordersSagas),\r\n  ])\r\n}","import { createStore, applyMiddleware } from 'redux';\r\nimport logger from 'redux-logger';\r\nimport thunk from 'redux-thunk';\r\nimport createSagaMiddle from 'redux-saga';\r\nimport { persistStore } from 'redux-persist';\r\n\r\nimport rootReducer from './rootReducer';\r\nimport rootSaga from './rootSaga';\r\n\r\nconst sagaMiddleware = createSagaMiddle();\r\nexport const middlewares = [thunk, sagaMiddleware, logger];\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(...middlewares));\r\nsagaMiddleware.run(rootSaga);\r\n\r\nexport const persistor = persistStore(store);\r\n\r\nexport default {\r\n  store,\r\n  persistor\r\n};\r\n","import axios from 'axios';\r\n\r\nexport const checkUserIsAdmin = currentUser => {\r\n  if (!currentUser || !Array.isArray(currentUser.userRoles)) return false;\r\n  const { userRoles } = currentUser;\r\n  if (userRoles.includes('admin')) return true;\r\n\r\n  return false;\r\n}\r\n\r\nexport const apiInstance = axios.create({\r\n  baseURL: 'http://localhost:5001/ecommerce-web-f542a/us-central1/api' //from npm run serve in function firebase\r\n});","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { checkUserIsAdmin } from './../../Utils';\r\nimport './styles.scss';\r\n\r\nconst mapState = ({ user }) => ({\r\n  currentUser: user.currentUser\r\n})\r\n\r\nconst AdminToolbar = props => {\r\n  const { currentUser } = useSelector(mapState);\r\n\r\n  const isAdmin = checkUserIsAdmin(currentUser);\r\n  if (!isAdmin) return null;\r\n\r\n  return (\r\n    <div className=\"adminToolbar\">\r\n      <ul>\r\n        <li>\r\n          <Link to=\"/admin\">\r\n            My admin\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminToolbar;","import { useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst mapState = ({ user }) => ({\r\n  currentUser: user.currentUser\r\n});\r\n\r\nconst useAuth = props => {\r\n  const { currentUser } = useSelector(mapState);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (!currentUser) {\r\n      history.push('/login');\r\n    }\r\n\r\n  }, [currentUser]);\r\n\r\n  return currentUser;\r\n};\r\n\r\nexport default useAuth;","import { useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { checkUserIsAdmin } from './../Utils';\r\n\r\nconst mapState = ({ user }) => ({\r\n  currentUser: user.currentUser\r\n});\r\n\r\nconst useAdminAuth = props => {\r\n  const { currentUser } = useSelector(mapState);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (!checkUserIsAdmin(currentUser)) {\r\n      history.push('/login');\r\n    }\r\n\r\n  }, [currentUser]);\r\n\r\n  return currentUser;\r\n}\r\n\r\nexport default useAdminAuth;","\r\nimport { useAuth } from './../customHooks';\r\n\r\nconst WithAuth = props => useAuth(props) && props.children;\r\n\r\nexport default WithAuth;","import { useAdminAuth } from './../customHooks';\r\n\r\nconst WithAdminAuth = props => useAdminAuth(props) && props.children;\r\n\r\nexport default WithAdminAuth;","import { createSelector } from 'reselect';\r\n\r\nexport const selectCartData = state => state.cartData;\r\n\r\nexport const selectCartItems = createSelector(\r\n  [selectCartData],\r\n  cartData => cartData.cartItems\r\n);\r\n\r\nexport const selectCartItemsCount = createSelector(\r\n  [selectCartItems],\r\n  cartItems =>\r\n    cartItems.reduce(\r\n      (quantity, cartItem) =>\r\n        quantity + cartItem.quantity\r\n      , 0)\r\n);\r\n\r\nexport const selectCartTotal = createSelector(\r\n  [selectCartItems],\r\n  cartItems =>\r\n    cartItems.reduce(\r\n      (quantity, cartItem) =>\r\n        quantity + cartItem.quantity * cartItem.productPrice,\r\n    0)\r\n);","import React, { useState, useEffect } from 'react';\r\nimport { Link, useLocation  } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { signOutUserStart } from './../../redux/User/user.actions';\r\nimport { selectCartItemsCount } from './../../redux/Cart/cart.selectors';\r\nimport './styles.scss';\r\n\r\nimport Logo from './../../assets/logo-PNG.png';\r\n\r\nconst mapState = (state) => ({\r\n  currentUser: state.user.currentUser,\r\n  totalNumCartItems: selectCartItemsCount(state)\r\n});\r\n\r\nconst Header = props => {\r\n  const location = useLocation();\r\n  const [activeMenu, setActiveMenu] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const { currentUser, totalNumCartItems } = useSelector(mapState);\r\n\r\n  const signOut = () => {\r\n    dispatch(signOutUserStart());\r\n  };\r\n\r\n  useEffect(() => {\r\n    setActiveMenu(false);\r\n  }, [location]);\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"wrap\">\r\n        <div className=\"logo\">\r\n          <Link to=\"/\">\r\n            <img src={Logo} alt=\"Shop\" />\r\n          </Link>\r\n        </div>\r\n\r\n        <nav className={`mainMenu ${activeMenu ? 'active' : ''}`}>\r\n          <ul>\r\n            <li>\r\n              <Link to=\"/\">\r\n                Home\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <Link to=\"/search\">\r\n                Search\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n\r\n        <div className=\"callToActions\">\r\n\r\n          <ul>\r\n\r\n            <li>\r\n              <Link to=\"/cart\">\r\n                Your Cart ({totalNumCartItems})\r\n                <i class=\"fas fa-shopping-basket\"></i>\r\n              </Link>\r\n            </li>\r\n\r\n            {currentUser && [\r\n              <li key={1}>\r\n                <Link to=\"/dashboard\">\r\n                  My Account\r\n                  <i class=\"fas fa-user-circle\"></i>\r\n                </Link>\r\n              </li>,\r\n              <li key={2}>\r\n                <span onClick={() => signOut()}>\r\n                  LogOut\r\n                  <i class=\"fas fa-sign-out-alt\"></i>\r\n                </span>\r\n              </li>\r\n            ]}\r\n\r\n            {!currentUser && [\r\n              <li key={1} className=\"hideOnMobile\">\r\n                <Link to=\"/registration\">\r\n                  Register\r\n                </Link>\r\n              </li>,\r\n              <li key={2}>\r\n                <Link to=\"/login\">\r\n                  Login\r\n                  <i class=\"fas fa-user-circle\"></i>\r\n                </Link>\r\n              </li>\r\n            ]}\r\n\r\n            <li className=\"mobileMenu\">\r\n              <span onClick={() => setActiveMenu(!activeMenu)}>\r\n                <i className=\"fas fa-bars\"></i>\r\n              </span>\r\n            </li>\r\n\r\n          </ul>\r\n\r\n\r\n\r\n\r\n\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nHeader.defaultProps = {\r\n  currentUser: null\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport './styles.scss';\r\n\r\nconst Footer = props => {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <div className=\"wrap\">\r\n        © Fashion shopping 2021\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nimport Header from './../components/Header';\r\nimport Footer from './../components/Footer';\r\n\r\nconst MainLayout = props => {\r\n  return (\r\n    <div>\r\n      <Header {...props} />\r\n      <div className=\"main\">\r\n        {props.children}\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainLayout;\r\n","import React from 'react';\r\nimport Header from './../components/Header';\r\nimport Footer from './../components/Footer';\r\n\r\nconst HomepageLayout = props => {\r\n  return (\r\n    <div className=\"fullHeight\">\r\n      <Header {...props} />\r\n      {props.children}\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomepageLayout;\r\n","import React from 'react';\r\nimport './styles.scss';\r\nimport userIMG from './../../assets/user.png';\r\n\r\nconst UserProfile = props => {\r\n  const { currentUser } = props;\r\n  const { displayName } = currentUser;\r\n\r\n  return (\r\n    <div className=\"userProfile\">\r\n      <ul>\r\n        <li>\r\n          <div className=\"img\">\r\n            <img src={userIMG} />\r\n          </div>\r\n        </li>\r\n        <li>\r\n          <span className=\"displayName\">\r\n            {displayName && displayName}\r\n          </span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserProfile;","import React from 'react';\r\nimport { useSelector } from 'react-redux'\r\nimport UserProfile from './../UserProfile';\r\nimport './styles.scss';\r\n\r\nconst mapState = ({ user }) => ({\r\n  currentUser: user.currentUser\r\n})\r\n\r\nconst VerticalNav = ({ children }) => {\r\n  const { currentUser } = useSelector(mapState);\r\n\r\n  const configUserProfile = {\r\n    currentUser\r\n  }\r\n\r\n  return (\r\n    <div className=\"verticalNav\">\r\n\r\n      <UserProfile {...configUserProfile} />\r\n\r\n      <div className=\"menu\">\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default VerticalNav;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { signOutUserStart } from './../redux/User/user.actions';\r\n\r\nimport Header from './../components/Header';\r\nimport VerticalNav from './../components/VerticalNav';\r\nimport Footer from './../components/Footer';\r\n\r\nconst AdminLayout = props => {\r\n  const dispatch = useDispatch();\r\n\r\n  const signOut = () => {\r\n    dispatch(signOutUserStart());\r\n  };\r\n\r\n  return (\r\n    <div className=\"adminLayout\">\r\n      <Header {...props} />\r\n      <div className=\"controlPanel\">\r\n        <div className=\"sidebar\">\r\n          <VerticalNav>\r\n            <ul>\r\n              <li>\r\n                <Link to=\"/admin\">\r\n                  Home\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <span className=\"signOut\" onClick={() => signOut()}>\r\n                  Sign Out\r\n                </span>\r\n              </li>\r\n            </ul>\r\n          </VerticalNav>\r\n        </div>\r\n        <div className=\"content\">\r\n          {props.children}\r\n        </div>\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminLayout;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { signOutUserStart } from './../redux/User/user.actions';\r\n\r\nimport Header from './../components/Header';\r\nimport VerticalNav from './../components/VerticalNav';\r\nimport Footer from './../components/Footer';\r\n\r\nconst DashBoardLayout = props => {\r\n  const dispatch = useDispatch();\r\n\r\n  const signOut = () => {\r\n    dispatch(signOutUserStart());\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboardLayout\">\r\n      <Header {...props} />\r\n      <div className=\"controlPanel\">\r\n        <div className=\"sidebar\">\r\n          <VerticalNav>\r\n            <ul>\r\n              <li>\r\n                <Link to=\"/dashboard\">\r\n                  Home\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <span className=\"signOut\" onClick={() => signOut()}>\r\n                  Sign Out\r\n                </span>\r\n              </li>\r\n            </ul>\r\n          </VerticalNav>\r\n        </div>\r\n        <div className=\"content\">\r\n          {props.children}\r\n        </div>\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashBoardLayout;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ShopMen from './../../assets/shopMens.jpg';\r\nimport ShopWomen from './../../assets/shopWomens.jpg';\r\nimport './styles.scss';\r\n\r\nconst Directory = props => {\r\n  return (\r\n    <div className=\"directory\">\r\n      <div className=\"wrap\">\r\n        <div\r\n          className=\"item\"\r\n          style={{\r\n            backgroundImage: `url(${ShopWomen})`\r\n          }}\r\n        >\r\n          <Link to=\"/search/womens\">\r\n            Shop Womens\r\n          </Link>\r\n        </div>\r\n        <div\r\n          className=\"item\"\r\n          style={{\r\n            backgroundImage: `url(${ShopMen})`\r\n          }}\r\n        >\r\n          <Link to=\"/search/mens\">\r\n            Shop Mens\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Directory;\r\n","import React from 'react';\r\nimport Directory from './../../components/Directory';\r\nimport './styles.scss';\r\n\r\nconst Homepage = props => {\r\n  return (\r\n    <section className=\"homepage\">\r\n      <Directory />\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Homepage;","import React from 'react';\r\nimport './styles.scss';\r\n\r\nconst Button = ({ children, ...otherProps }) => {\r\n  return (\r\n    <button className=\"btn\" {...otherProps}>\r\n      {children}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Button","import React from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport Button from './../../forms/Button';\r\nimport { useDispatch } from 'react-redux';\r\nimport { addProduct } from './../../../redux/Cart/cart.actions';\r\n\r\nconst Product = (product) => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const {\r\n    documentID,\r\n    productThumbnail,\r\n    productName,\r\n    productPrice\r\n  } = product;\r\n  if (!documentID || !productThumbnail || !productName ||\r\n    typeof productPrice === 'undefined') return null;\r\n\r\n  const configAddToCartBtn = {\r\n    type: 'button'\r\n  };\r\n\r\n  const handleAddToCart = (product) => {\r\n    if (!product) return;\r\n    dispatch(\r\n      addProduct(product)\r\n    );\r\n    history.push('/cart');\r\n  };\r\n\r\n  return (\r\n    <div className=\"product\">\r\n      <div className=\"thumb\">\r\n        <Link to={`/product/${documentID}`}>\r\n          <img src={productThumbnail} alt={productName} />\r\n        </Link>\r\n      </div>\r\n\r\n      <div className=\"details\">\r\n        <ul>\r\n          <li>\r\n            <span className=\"name\">\r\n              <Link to={`/product/${documentID}`}>\r\n                {productName}\r\n              </Link>\r\n            </span>\r\n          </li>\r\n          <li>\r\n            <span className=\"price\">\r\n              £{productPrice}\r\n            </span>\r\n          </li>\r\n          <li>\r\n            <div className=\"addToCart\">\r\n              <Button {...configAddToCartBtn} onClick={() => handleAddToCart(product)}>\r\n                Add to cart\r\n              </Button>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Product;","import React from 'react';\r\nimport './styles.scss';\r\n\r\nconst FormSelect = ({ options, defaultValue, handleChange, label, ...otherProps }) => {\r\n  if (!Array.isArray(options) || options.length < 1) return null;\r\n\r\n  return (\r\n    <div className=\"formRow\">\r\n      {label && (\r\n        <label>\r\n          {label}\r\n        </label>\r\n      )}\r\n\r\n      <select className=\"formSelect\" value={defaultValue} onChange={handleChange} {...otherProps}>\r\n        {options.map((option, index) => {\r\n          const { value, name } = option;\r\n\r\n          return (\r\n            <option key={index} value={value}>{name}</option>\r\n          );\r\n        })}\r\n      </select>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FormSelect;","import React from 'react';\r\nimport Button from './../forms/Button';\r\n\r\nconst LoadMore = ({\r\n  onLoadMoreEvt = () => { },\r\n}) => {\r\n  return (\r\n    <Button onClick={() => onLoadMoreEvt()}>\r\n      Load More\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default LoadMore;\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { fetchProductsStart } from './../../redux/Products/products.actions';\r\nimport Product from './Product';\r\nimport FormSelect from './../forms/FormSelect';\r\nimport LoadMore from './../LoadMore';\r\nimport './styles.scss';\r\n\r\nconst mapState = ({ productsData }) => ({\r\n  products: productsData.products\r\n});\r\n\r\nconst ProductResults = ({ }) => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { filterType } = useParams();\r\n  const { products } = useSelector(mapState);\r\n\r\n  const { data, queryDoc, isLastPage } = products;\r\n\r\n  useEffect(() => {\r\n    dispatch(\r\n      fetchProductsStart({ filterType })\r\n    )\r\n  }, [filterType]);\r\n\r\n  const handleFilter = (e) => {\r\n    const nextFilter = e.target.value;\r\n    history.push(`/search/${nextFilter}`);\r\n  };\r\n\r\n  if (!Array.isArray(data)) return null;\r\n  if (data.length < 1) {\r\n    return (\r\n      <div className=\"products\">\r\n        <p>\r\n          No search results.\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const configFilters = {\r\n    defaultValue: filterType,\r\n    options: [{\r\n      name: 'Show all',\r\n      value: ''\r\n    }, {\r\n      name: 'Mens',\r\n      value: 'mens'\r\n    }, {\r\n      name: 'Womens',\r\n      value: 'womens'\r\n    }],\r\n    handleChange: handleFilter\r\n  };\r\n\r\n  const handleLoadMore = () => {\r\n    dispatch(\r\n      fetchProductsStart({\r\n        filterType,\r\n        startAfterDoc: queryDoc,\r\n        persistProducts: data\r\n      })\r\n    )\r\n  };\r\n\r\n  const configLoadMore = {\r\n    onLoadMoreEvt: handleLoadMore,\r\n  };\r\n\r\n  return (\r\n    <div className=\"products\">\r\n\r\n      <h1>\r\n        Browse Products\r\n      </h1>\r\n\r\n      <FormSelect {...configFilters} />\r\n\r\n      <div className=\"productResults\">\r\n        {data.map((product, pos) => {\r\n          const { productThumbnail, productName, productPrice } = product;\r\n          if (!productThumbnail || !productName ||\r\n            typeof productPrice === 'undefined') return null;\r\n\r\n          const configProduct = {\r\n            ...product\r\n          };\r\n\r\n          return (\r\n            <Product key={pos} {...configProduct} />\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {!isLastPage && (\r\n        <LoadMore {...configLoadMore} />\r\n      )}\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductResults;\r\n","import React from 'react';\r\nimport ProductResults from './../../components/ProductResults';\r\n\r\nconst Search = ({ }) => {\r\n  return (\r\n    <div className=\"searchPage\">\r\n      <ProductResults />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React from 'react';\r\nimport './styles.scss';\r\n\r\nconst AuthWrapper = ({ headline, children }) => {\r\n  return (\r\n    <div className=\"authWrapper\">\r\n      <div className=\"wrap\">\r\n        {headline && <h2>{headline}</h2>}\r\n\r\n        <div className=\"children\">\r\n          {children && children}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AuthWrapper;","import React from 'react';\r\nimport './styles.scss';\r\n\r\nconst FormInput = ({ handleChange, label, ...otherProps }) => {\r\n  return (\r\n    <div className=\"formRow\">\r\n      {label && (\r\n        <label>\r\n          {label}\r\n        </label>\r\n      )}\r\n\r\n      <input className=\"formInput\" onChange={handleChange} {...otherProps} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FormInput;","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport { signUpUserStart } from './../../redux/User/user.actions';\r\nimport './styles.scss';\r\n\r\nimport AuthWrapper from './../AuthWrapper';\r\nimport FormInput from './../forms/FormInput';\r\nimport Button from './../forms/Button';\r\n\r\nconst mapState = ({ user }) => ({\r\n  currentUser: user.currentUser,\r\n  userErr: user.userErr\r\n});\r\n\r\nconst Signup = props => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { currentUser, userErr } = useSelector(mapState);\r\n  const [displayName, setDisplayName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [errors, setErrors] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      reset();\r\n      history.push('/');\r\n    }\r\n\r\n  }, [currentUser]);\r\n\r\n  useEffect(() => {\r\n    if (Array.isArray(userErr) && userErr.length > 0) {\r\n      setErrors(userErr);\r\n    }\r\n\r\n  }, [userErr]);\r\n\r\n  const reset = () => {\r\n    setDisplayName('');\r\n    setEmail('');\r\n    setPassword('');\r\n    setConfirmPassword('');\r\n    setErrors([]);\r\n  };\r\n\r\n  const handleFormSubmit = event => {\r\n    event.preventDefault();\r\n    dispatch(signUpUserStart({\r\n      displayName,\r\n      email,\r\n      password,\r\n      confirmPassword\r\n    }));\r\n  }\r\n\r\n  const configAuthWrapper = {\r\n    headline: 'Registration'\r\n  };\r\n\r\n  return (\r\n    <AuthWrapper {...configAuthWrapper}>\r\n      <div className=\"formWrap\">\r\n\r\n        {errors.length > 0 && (\r\n          <ul>\r\n            {errors.map((err, index) => {\r\n              return (\r\n                <li key={index}>\r\n                  {err}\r\n                </li>\r\n              );\r\n            })}\r\n          </ul>\r\n        )}\r\n\r\n        <form onSubmit={handleFormSubmit}>\r\n\r\n          <FormInput\r\n            type=\"text\"\r\n            name=\"displayName\"\r\n            value={displayName}\r\n            placeholder=\"Full name\"\r\n            handleChange={e => setDisplayName(e.target.value)}\r\n          />\r\n\r\n          <FormInput\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={email}\r\n            placeholder=\"Email\"\r\n            handleChange={e => setEmail(e.target.value)}\r\n          />\r\n\r\n          <FormInput\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={password}\r\n            placeholder=\"Password\"\r\n            handleChange={e => setPassword(e.target.value)}\r\n          />\r\n\r\n          <FormInput\r\n            type=\"password\"\r\n            name=\"confirmPassword\"\r\n            value={confirmPassword}\r\n            placeholder=\"Confirm Password\"\r\n            handleChange={e => setConfirmPassword(e.target.value)}\r\n          />\r\n\r\n          <Button type=\"submit\">\r\n            Register\r\n          </Button>\r\n        </form>\r\n\r\n        <div className=\"links\">\r\n          <Link to=\"/login\">\r\n            LogIn\r\n          </Link>\r\n          {` | `}\r\n          <Link to=\"/recovery\">\r\n            Reset Password\r\n            </Link>\r\n        </div>\r\n      </div>\r\n    </AuthWrapper>\r\n  );\r\n}\r\n\r\nexport default Signup;\r\n","import React, { Component } from 'react';\r\nimport Signup from './../../components/Signup';\r\nimport './styles.scss';\r\n\r\nconst Registration = props => {\r\n  return <Signup />;\r\n};\r\n\r\nexport default Registration;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { emailSignInStart, googleSignInStart } from './../../redux/User/user.actions';\r\n\r\nimport './styles.scss';\r\n\r\nimport AuthWrapper from './../AuthWrapper';\r\nimport FormInput from './../forms/FormInput';\r\nimport Button from './../forms/Button';\r\n\r\nconst mapState = ({ user }) => ({\r\n  currentUser: user.currentUser\r\n});\r\n\r\nconst SignIn = props => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { currentUser } = useSelector(mapState);\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('')\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      resetForm();\r\n      history.push('/');\r\n    }\r\n\r\n  }, [currentUser]);\r\n\r\n  const resetForm = () => {\r\n    setEmail('');\r\n    setPassword('');\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    dispatch(emailSignInStart({ email, password }));\r\n  }\r\n\r\n  const handleGoogleSignIn = () => {\r\n    dispatch(googleSignInStart());\r\n  }\r\n\r\n  const configAuthWrapper = {\r\n    headline: 'LogIn'\r\n  };\r\n\r\n  return (\r\n    <AuthWrapper {...configAuthWrapper}>\r\n      <div className=\"formWrap\">\r\n        <form onSubmit={handleSubmit}>\r\n\r\n          <FormInput\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={email}\r\n            placeholder=\"Email\"\r\n            handleChange={e => setEmail(e.target.value)}\r\n          />\r\n\r\n          <FormInput\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={password}\r\n            placeholder=\"Password\"\r\n            handleChange={e => setPassword(e.target.value)}\r\n          />\r\n\r\n          <Button type=\"submit\">\r\n            LogIn\r\n          </Button>\r\n\r\n          <div className=\"socialSignin\">\r\n            <div className=\"row\">\r\n              <Button onClick={handleGoogleSignIn}>\r\n                Sign in with Google\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"links\">\r\n            <Link to=\"/registration\">\r\n              Register\r\n            </Link>\r\n            {` | `}\r\n            <Link to=\"/recovery\">\r\n              Reset Password\r\n            </Link>\r\n          </div>\r\n\r\n        </form>\r\n      </div>\r\n    </AuthWrapper>\r\n  );\r\n}\r\n\r\nexport default SignIn;\r\n","import React from 'react';\r\nimport './styles.scss';\r\nimport SignIn from './../../components/SignIn';\r\n\r\nconst Login = props => {\r\n  return <SignIn />\r\n}\r\n\r\nexport default Login;","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport { resetPasswordStart, resetUserState } from './../../redux/User/user.actions';\r\nimport './styles.scss';\r\n\r\nimport AuthWrapper from './../AuthWrapper';\r\nimport FormInput from './../forms/FormInput';\r\nimport Button from './../forms/Button';\r\n\r\nconst mapState = ({ user }) => ({\r\n  resetPasswordSuccess: user.resetPasswordSuccess,\r\n  userErr: user.userErr\r\n});\r\n\r\nconst EmailPassword = props => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { resetPasswordSuccess, userErr } = useSelector(mapState);\r\n  const [email, setEmail] = useState('');\r\n  const [errors, setErrors] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (resetPasswordSuccess) {\r\n      dispatch(resetUserState());\r\n      history.push('/login');\r\n    }\r\n\r\n  }, [resetPasswordSuccess]);\r\n\r\n  useEffect(() => {\r\n    if (Array.isArray(userErr) && userErr.length > 0) {\r\n      setErrors(userErr);\r\n    }\r\n\r\n  }, [userErr]);\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    dispatch(resetPasswordStart({ email }));\r\n  }\r\n\r\n  const configAuthWrapper = {\r\n    headline: 'Email Password'\r\n  };\r\n\r\n  return (\r\n    <AuthWrapper {...configAuthWrapper}>\r\n      <div className=\"formWrap\">\r\n\r\n        {errors.length > 0 && (\r\n          <ul>\r\n            {errors.map((e, index) => {\r\n              return (\r\n                <li key={index}>\r\n                  {e}\r\n                </li>\r\n              );\r\n            })}\r\n          </ul>\r\n        )}\r\n\r\n        <form onSubmit={handleSubmit}>\r\n\r\n          <FormInput\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={email}\r\n            placeholder=\"Email\"\r\n            handleChange={e => setEmail(e.target.value)}\r\n          />\r\n\r\n          <Button type=\"submit\">\r\n            Email Password\r\n          </Button>\r\n\r\n        </form>\r\n\r\n        <div className=\"links\">\r\n          <Link to=\"/login\">\r\n            LogIn\r\n          </Link>\r\n          {` | `}\r\n          <Link to=\"/registration\">\r\n            Register\r\n          </Link>\r\n        </div>\r\n\r\n      </div>\r\n    </AuthWrapper>\r\n  );\r\n}\r\n\r\nexport default EmailPassword;\r\n","import React from 'react';\r\nimport EmailPassword from './../../components/EmailPassword';\r\n\r\nconst Recovery = props => {\r\n  return <EmailPassword />\r\n}\r\n\r\nexport default Recovery;","import React from 'react';\r\nimport {\r\n  TableContainer, Table, TableHead,\r\n  TableRow, TableBody, TableCell\r\n} from '@material-ui/core';\r\nimport moment from 'moment';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'orderCreatedDate',\r\n    lable: 'Order Date'\r\n  },\r\n  {\r\n    id: 'documentID',\r\n    lable: 'Order ID'\r\n  },\r\n  {\r\n    id: 'orderTotal',\r\n    lable: 'Amount'\r\n  }\r\n];\r\n\r\nconst styles = {\r\n  fontSize: '16px',\r\n  cursor: 'pointer',\r\n  width: '10%'\r\n};\r\n\r\nconst formatText = (columnName, columnValue) => {\r\n  switch (columnName) {\r\n    case 'orderTotal':\r\n      return `£${columnValue}`;\r\n    case 'orderCreatedDate':\r\n      return moment(columnValue.nano).format('DD/MM/YYYY')\r\n    default:\r\n      return columnValue;\r\n  }\r\n};\r\n\r\nconst OrderHistory = ({ orders }) => {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <TableContainer>\r\n      <Table>\r\n\r\n        <TableHead>\r\n          <TableRow>\r\n            {columns.map((column, pos) => {\r\n              const { lable } = column;\r\n\r\n              return (\r\n                <TableCell\r\n                  key={pos}\r\n                  style={styles}\r\n                >\r\n                  {lable}\r\n                </TableCell>\r\n              )\r\n            })}\r\n          </TableRow>\r\n        </TableHead>\r\n\r\n        <TableBody>\r\n\r\n          {(Array.isArray(orders) && orders.length > 0) && orders.map((row, pos) => {\r\n            const { documentID } = row;\r\n\r\n            return (\r\n              <TableRow\r\n                key={pos}\r\n                onClick={() => history.push(`/order/${documentID}`)}\r\n              >\r\n\r\n                {columns.map((column, pos) => {\r\n                  const columnName = column.id;\r\n                  const columnValue = row[columnName];\r\n                  const formattedText = formatText(columnName, columnValue);\r\n\r\n                  return (\r\n                    <TableCell\r\n                      key={pos}\r\n                      style={styles}\r\n                    >\r\n                      {formattedText}\r\n                    </TableCell>\r\n                  )\r\n                })}\r\n\r\n              </TableRow>\r\n            )\r\n          })}\r\n\r\n        </TableBody>\r\n\r\n      </Table>\r\n    </TableContainer>\r\n  )\r\n}\r\n\r\nexport default OrderHistory;\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getUserOrderHistory } from './../../redux/Orders/orders.actions';\r\nimport OrderHistory from './../../components/OrderHistory';\r\nimport './styles.scss';\r\n\r\nconst mapState = ({ user, ordersData }) => ({\r\n  currentUser: user.currentUser,\r\n  orderHistory: ordersData.orderHistory.data\r\n});\r\n\r\nconst Dashboard = props => {\r\n  const dispatch = useDispatch();\r\n  const { currentUser, orderHistory } = useSelector(mapState);\r\n\r\n  useEffect(() => {\r\n    dispatch(\r\n      getUserOrderHistory(currentUser.id)\r\n    );\r\n\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h1>\r\n        Order History\r\n      </h1>\r\n\r\n      <OrderHistory orders={orderHistory} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import React, { useState } from 'react';\r\nimport './styles.scss';\r\n\r\nconst Modal = ({ hideModal, toggleModal, children }) => {\r\n  if (hideModal) return null;\r\n\r\n  return [\r\n    <div className=\"modalOverlay\" onClick={() => toggleModal()} />,\r\n    <div className=\"modalWrap\">\r\n      <div className=\"modal\">\r\n        {children}\r\n      </div>\r\n    </div>\r\n  ];\r\n}\r\n\r\nexport default Modal;","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addProductStart, fetchProductsStart, deleteProductStart } from './../../redux/Products/products.actions';\r\nimport Modal from './../../components/Modal';\r\nimport FormInput from './../../components/forms/FormInput';\r\nimport FormSelect from './../../components/forms/FormSelect';\r\nimport Button from './../../components/forms/Button';\r\nimport LoadMore from './../../components/LoadMore';\r\nimport CKEditor from 'ckeditor4-react';\r\nimport './styles.scss';\r\n\r\nconst mapState = ({ productsData }) => ({\r\n  products: productsData.products\r\n});\r\n\r\nconst Admin = props => {\r\n  const { products } = useSelector(mapState);\r\n  const dispatch = useDispatch();\r\n  const [hideModal, setHideModal] = useState(true);\r\n  const [productCategory, setProductCategory] = useState('mens');\r\n  const [productName, setProductName] = useState('');\r\n  const [productThumbnail, setProductThumbnail] = useState('');\r\n  const [productPrice, setProductPrice] = useState(0);\r\n  const [productDesc, setProductDesc] = useState('');\r\n\r\n  const { data, queryDoc, isLastPage } = products;\r\n\r\n  useEffect(() => {\r\n    dispatch(\r\n      fetchProductsStart()\r\n    );\r\n  }, []);\r\n\r\n  const toggleModal = () => setHideModal(!hideModal);\r\n\r\n  const configModal = {\r\n    hideModal,\r\n    toggleModal\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setHideModal(true);\r\n    setProductCategory('mens');\r\n    setProductName('');\r\n    setProductThumbnail('');\r\n    setProductPrice(0);\r\n    setProductDesc('');\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    dispatch(\r\n      addProductStart({\r\n        productCategory,\r\n        productName,\r\n        productThumbnail,\r\n        productPrice,\r\n        productDesc,\r\n      })\r\n    );\r\n    resetForm();\r\n\r\n  };\r\n\r\n  const handleLoadMore = () => {\r\n    dispatch(\r\n      fetchProductsStart({\r\n        startAfterDoc: queryDoc,\r\n        persistProducts: data\r\n      })\r\n    );\r\n  };\r\n\r\n  const configLoadMore = {\r\n    onLoadMoreEvt: handleLoadMore,\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin\">\r\n\r\n      <div className=\"callToActions\">\r\n        <ul>\r\n          <li>\r\n            <Button onClick={() => toggleModal()}>\r\n              Add new product\r\n            </Button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <Modal {...configModal}>\r\n        <div className=\"addNewProductForm\">\r\n          <form onSubmit={handleSubmit}>\r\n\r\n            <h2>\r\n              Add new product\r\n            </h2>\r\n\r\n            <FormSelect\r\n              label=\"Category\"\r\n              options={[{\r\n                value: \"mens\",\r\n                name: \"Mens\"\r\n              }, {\r\n                value: \"womens\",\r\n                name: \"Womens\"\r\n              }]}\r\n              handleChange={e => setProductCategory(e.target.value)}\r\n            />\r\n\r\n            <FormInput\r\n              label=\"Name\"\r\n              type=\"text\"\r\n              value={productName}\r\n              handleChange={e => setProductName(e.target.value)}\r\n            />\r\n\r\n            <FormInput\r\n              label=\"Main image URL\"\r\n              type=\"url\"\r\n              value={productThumbnail}\r\n              handleChange={e => setProductThumbnail(e.target.value)}\r\n            />\r\n\r\n            <FormInput\r\n              label=\"Price\"\r\n              type=\"number\"\r\n              min=\"0.00\"\r\n              max=\"10000.00\"\r\n              step=\"0.01\"\r\n              value={productPrice}\r\n              handleChange={e => setProductPrice(e.target.value)}\r\n            />\r\n\r\n            <CKEditor\r\n              onChange={evt => setProductDesc(evt.editor.getData())}\r\n            />\r\n\r\n            <br />\r\n\r\n            <Button type=\"submit\">\r\n              Add product\r\n            </Button>\r\n\r\n          </form>\r\n        </div>\r\n      </Modal>\r\n\r\n      <div className=\"manageProducts\">\r\n\r\n        <table border=\"0\" cellPadding=\"0\" cellSpacing=\"0\">\r\n          <tbody>\r\n            <tr>\r\n              <th>\r\n                <h1>\r\n                  Manage Products\r\n                </h1>\r\n              </th>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <table className=\"results\" border=\"0\" cellPadding=\"10\" cellSpacing=\"0\">\r\n                  <tbody>\r\n                    {(Array.isArray(data) && data.length > 0) && data.map((product, index) => {\r\n                      const {\r\n                        productName,\r\n                        productThumbnail,\r\n                        productPrice,\r\n                        documentID\r\n                      } = product;\r\n\r\n                      return (\r\n                        <tr key={index}>\r\n                          <td>\r\n                            <img className=\"thumb\" src={productThumbnail} />\r\n                          </td>\r\n                          <td>\r\n                            {productName}\r\n                          </td>\r\n                          <td>\r\n                            £{productPrice}\r\n                          </td>\r\n                          <td>\r\n                            <Button onClick={() => dispatch(deleteProductStart(documentID))}>\r\n                              Delete\r\n                            </Button>\r\n                          </td>\r\n                        </tr>\r\n                      )\r\n                    })}\r\n                  </tbody>\r\n                </table>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <table border=\"0\" cellPadding=\"10\" cellSpacing=\"0\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <td>\r\n                        {!isLastPage && (\r\n                          <LoadMore {...configLoadMore} />\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Admin;","import React, { useEffect } from 'react';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchProductStart, setProduct } from './../../redux/Products/products.actions';\r\nimport { addProduct } from './../../redux/Cart/cart.actions';\r\nimport Button from './../forms/Button';\r\nimport './styles.scss';\r\n\r\nconst mapState = state => ({\r\n  product: state.productsData.product\r\n});\r\n\r\nconst ProductCard = ({}) => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { productID } = useParams();\r\n  const { product } = useSelector(mapState);\r\n\r\n  const {\r\n    productThumbnail,\r\n    productName,\r\n    productPrice,\r\n    productDesc,\r\n  } = product;\r\n\r\n  useEffect(() => {\r\n    dispatch(\r\n      fetchProductStart(productID)\r\n    )\r\n\r\n    return () => {\r\n      dispatch(\r\n        setProduct({})\r\n      )\r\n    }\r\n\r\n  }, []);\r\n\r\n  const handleAddToCart = (product) => {\r\n    if (!product) return;\r\n    dispatch(\r\n      addProduct(product)\r\n    );\r\n    history.push('/cart');\r\n  }\r\n\r\n  const configAddToCartBtn = {\r\n    type: 'button'\r\n  }\r\n\r\n  return (\r\n    <div className=\"productCard\">\r\n      <div className=\"hero\">\r\n        <img src={productThumbnail} />\r\n      </div>\r\n      <div className=\"productDetails\">\r\n        <ul>\r\n          <li>\r\n            <h1>\r\n              {productName}\r\n            </h1>\r\n          </li>\r\n          <li>\r\n            <span>\r\n              £{productPrice}\r\n            </span>\r\n          </li>\r\n          <li>\r\n            <div className=\"addToCart\">\r\n              <Button {...configAddToCartBtn} onClick={() => handleAddToCart(product)}>\r\n                Add to cart\r\n              </Button>\r\n            </div>\r\n          </li>\r\n          <li>\r\n            <span\r\n              className=\"desc\"\r\n              dangerouslySetInnerHTML={{ __html: productDesc }} />\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductCard;\r\n","import React from 'react';\r\nimport ProductCard from './../../components/ProductCard';\r\n\r\nconst ProductDetails = ({}) => {\r\n  return (\r\n    <div>\r\n      <ProductCard />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductDetails;\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { removeCartItem, addProduct, reduceCartItem } from './../../../redux/Cart/cart.actions';\r\n\r\nconst Item = (product) => {\r\n  const dispatch = useDispatch();\r\n  const {\r\n    productName,\r\n    productThumbnail,\r\n    productPrice,\r\n    quantity,\r\n    documentID\r\n  } = product;\r\n\r\n  const handleRemoveCartItem = (documentID) => {\r\n    dispatch(\r\n      removeCartItem({\r\n        documentID\r\n      })\r\n    );\r\n  }\r\n\r\n  const handleAddProduct = (product) => {\r\n    dispatch(\r\n      addProduct(product)\r\n    )\r\n  }\r\n\r\n  const handleReduceItem = (product) => {\r\n    dispatch(\r\n      reduceCartItem(product)\r\n    );\r\n  }\r\n\r\n  return (\r\n    <table className=\"cartItem\" border=\"0\" cellSpacing=\"0\" cellPadding=\"10\">\r\n      <tbody>\r\n        <tr>\r\n          <td>\r\n            <img src={productThumbnail} alt={productName} />\r\n          </td>\r\n          <td>\r\n            {productName}\r\n          </td>\r\n          <td>\r\n            <span className=\"cartBtn\"\r\n              onClick={() => handleReduceItem(product)}>\r\n              {`< `}\r\n            </span>\r\n            <span>\r\n              {quantity}\r\n            </span>\r\n            <span className=\"cartBtn\"\r\n              onClick={() => handleAddProduct(product)}>\r\n              {` >`}\r\n            </span>\r\n          </td>\r\n          <td>\r\n            £{productPrice}\r\n          </td>\r\n          <td align=\"center\">\r\n            <span className=\"cartBtn remove\" onClick={() => handleRemoveCartItem(documentID)}>\r\n              X\r\n            </span>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n\r\nexport default Item;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { selectCartItems, selectCartTotal } from './../../redux/Cart/cart.selectors';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport './styles.scss';\r\nimport Button from './../forms/Button';\r\nimport Item from './Item';\r\n\r\nconst mapState = createStructuredSelector({\r\n  cartItems: selectCartItems,\r\n  total: selectCartTotal\r\n});\r\n\r\nconst Checkout = ({ }) => {\r\n  const history = useHistory();\r\n  const { cartItems, total } = useSelector(mapState);\r\n\r\n  const errMsg = 'You have no items in your cart.';\r\n\r\n  return (\r\n    <div className=\"checkout\">\r\n      <h1>\r\n        Checkout\r\n      </h1>\r\n\r\n      <div className=\"cart\">\r\n        {cartItems.length > 0 ? (\r\n          <table border=\"0\" cellPadding=\"0\" cellSpacing=\"0\">\r\n            <tbody>\r\n              <tr>\r\n                <td>\r\n                  <table className=\"checkoutHeader\" border=\"0\" cellPadding=\"10\" cellSpacing=\"0\">\r\n                    <tbody>\r\n                      <tr>\r\n                        <th>\r\n                          Product\r\n                        </th>\r\n                        <th>\r\n                          Description\r\n                        </th>\r\n                        <th>\r\n                          Quantity\r\n                        </th>\r\n                        <th>\r\n                          Price\r\n                        </th>\r\n                        <th>\r\n                          Remove\r\n                        </th>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <table border=\"0\" cellSpacing=\"0\" cellPadding=\"0\">\r\n                    <tbody>\r\n                      {cartItems.map((item, pos) => {\r\n                        return (\r\n                          <tr key={pos}>\r\n                            <td>\r\n                              <Item {...item} />\r\n                            </td>\r\n                          </tr>\r\n                        );\r\n                      })}\r\n                    </tbody>\r\n                  </table>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <table border=\"0\" cellSpacing=\"0\" cellPadding=\"0\">\r\n                    <tbody>\r\n                      <tr>\r\n                        <td>\r\n                          <table border=\"0\" cellPadding=\"10\" cellSpacing=\"0\">\r\n                            <tbody>\r\n                              <tr>\r\n                                <td>\r\n                                <h3>\r\n                                  Total: £{total}\r\n                                </h3>\r\n                                </td>\r\n                              </tr>\r\n                            </tbody>\r\n                          </table>\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td>\r\n                          <table border=\"0\" cellPadding=\"10\" cellSpacing=\"0\">\r\n                            <tbody>\r\n                              <tr>\r\n                                <td>\r\n                                  <Button onClick={() => history.goBack()}>\r\n                                    Continue Shopping\r\n                                  </Button>\r\n                                </td>\r\n                                <td>\r\n                                  <Button onClick={() => history.push('/payment')}>\r\n                                    Checkout\r\n                                  </Button>\r\n                                </td>\r\n                              </tr>\r\n                            </tbody>\r\n                          </table>\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        ) : (\r\n            <p>\r\n              {errMsg}\r\n            </p>\r\n          )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Checkout;\r\n","import React from 'react';\r\nimport Checkout from './../../components/Checkout';\r\n\r\nconst Cart = ({}) => {\r\n  return (\r\n    <div>\r\n      <Checkout />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cart;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\r\nimport FormInput from './../forms/FormInput';\r\nimport Button from './../forms/Button';\r\nimport { CountryDropdown } from 'react-country-region-selector';\r\nimport { apiInstance } from './../../Utils';\r\nimport { selectCartTotal, selectCartItemsCount, selectCartItems } from './../../redux/Cart/cart.selectors';\r\nimport { saveOrderHistory } from './../../redux/Orders/orders.actions';\r\nimport { clearCart } from './../../redux/Cart/cart.actions';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './styles.scss';\r\n\r\nconst initialAddressState = {\r\n  line1: '',\r\n  line2: '',\r\n  city: '',\r\n  state: '',\r\n  postal_code: '',\r\n  country: '',\r\n};\r\n\r\nconst mapState = createStructuredSelector({\r\n  total: selectCartTotal,\r\n  itemCount: selectCartItemsCount,\r\n  cartItems: selectCartItems,\r\n});\r\n\r\nconst PaymentDetails = () => {\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const history = useHistory();\r\n  const { total, itemCount, cartItems } = useSelector(mapState);\r\n  const dispatch = useDispatch();\r\n  const [billingAddress, setBillingAddress] = useState({ ...initialAddressState });\r\n  const [shippingAddress, setShippingAddress] = useState({ ...initialAddressState });\r\n  const [recipientName, setRecipientName] = useState('');\r\n  const [nameOnCard, setNameOnCard] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (itemCount < 1) {\r\n      history.push('/dashboard');\r\n    }\r\n\r\n  }, [itemCount]);\r\n\r\n  const handleShipping = evt => {\r\n    const { name, value } = evt.target;\r\n    setShippingAddress({\r\n      ...shippingAddress,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  const handleBilling = evt => {\r\n    const { name, value } = evt.target;\r\n    setBillingAddress({\r\n      ...billingAddress,\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  const handleFormSubmit = async evt => {\r\n    evt.preventDefault();\r\n    const cardElement = elements.getElement('card');\r\n\r\n    if (\r\n      !shippingAddress.line1 || !shippingAddress.city ||\r\n      !shippingAddress.state || !shippingAddress.postal_code ||\r\n      !shippingAddress.country || !billingAddress.line1 ||\r\n      !billingAddress.city || !billingAddress.state ||\r\n      !billingAddress.postal_code || !billingAddress.country ||\r\n      !recipientName || !nameOnCard\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    apiInstance.post('/payments/create', {\r\n      amount: total * 100,\r\n      shipping: {\r\n        name: recipientName,\r\n        address: {\r\n          ...shippingAddress\r\n        }\r\n      }\r\n    }).then(({ data: clientSecret }) => {\r\n\r\n      stripe.createPaymentMethod({\r\n        type: 'card',\r\n        card: cardElement,\r\n        billing_details: {\r\n          name: nameOnCard,\r\n          address: {\r\n            ...billingAddress\r\n          }\r\n        }\r\n      }).then(({ paymentMethod }) => {\r\n\r\n        stripe.confirmCardPayment(clientSecret, {\r\n          payment_method: paymentMethod.id\r\n        })\r\n        .then(({ paymentIntent }) => {\r\n\r\n          const configOrder = {\r\n            orderTotal: total,\r\n            orderItems: cartItems.map(item => {\r\n              const { documentID, productThumbnail, productName,\r\n                productPrice, quantity } = item;\r\n\r\n              return {\r\n                documentID,\r\n                productThumbnail,\r\n                productName,\r\n                productPrice,\r\n                quantity\r\n              };\r\n            })\r\n          }\r\n\r\n          dispatch(\r\n            saveOrderHistory(configOrder)\r\n          );\r\n        });\r\n\r\n      })\r\n\r\n\r\n    });\r\n\r\n  };\r\n\r\n  const configCardElement = {\r\n    iconStyle: 'solid',\r\n    style: {\r\n      base: {\r\n        fontSize: '16px'\r\n      }\r\n    },\r\n    hidePostalCode: true\r\n  };\r\n\r\n  return (\r\n    <div className=\"paymentDetails\">\r\n      <form onSubmit={handleFormSubmit}>\r\n\r\n        <div className=\"group\">\r\n          <h2>\r\n            Shipping Address\r\n          </h2>\r\n\r\n          <FormInput\r\n            required\r\n            placeholder=\"Recipient Name\"\r\n            name=\"recipientName\"\r\n            handleChange={evt => setRecipientName(evt.target.value)}\r\n            value={recipientName}\r\n            type=\"text\"\r\n          />\r\n\r\n          <FormInput\r\n            required\r\n            placeholder=\"Line 1\"\r\n            name=\"line1\"\r\n            handleChange={evt => handleShipping(evt)}\r\n            value={shippingAddress.line1}\r\n            type=\"text\"\r\n          />\r\n\r\n          <FormInput\r\n            placeholder=\"Line 2\"\r\n            name=\"line2\"\r\n            handleChange={evt => handleShipping(evt)}\r\n            value={shippingAddress.line2}\r\n            type=\"text\"\r\n          />\r\n\r\n          <FormInput\r\n            required\r\n            placeholder=\"City\"\r\n            name=\"city\"\r\n            handleChange={evt => handleShipping(evt)}\r\n            value={shippingAddress.city}\r\n            type=\"text\"\r\n          />\r\n\r\n          <FormInput\r\n            required\r\n            placeholder=\"State\"\r\n            name=\"state\"\r\n            handleChange={evt => handleShipping(evt)}\r\n            value={shippingAddress.state}\r\n            type=\"text\"\r\n          />\r\n\r\n          <FormInput\r\n            required\r\n            placeholder=\"Postal Code\"\r\n            name=\"postal_code\"\r\n            handleChange={evt => handleShipping(evt)}\r\n            value={shippingAddress.postal_code}\r\n            type=\"text\"\r\n          />\r\n\r\n          <div className=\"formRow checkoutInput\">\r\n            <CountryDropdown\r\n              required\r\n              onChange={val => handleShipping({\r\n                target: {\r\n                  name: 'country',\r\n                  value: val\r\n                }\r\n              })}\r\n              value={shippingAddress.country}\r\n              valueType=\"short\"\r\n            />\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <div className=\"group\">\r\n          <h2>\r\n            Billing Address\r\n          </h2>\r\n\r\n          <FormInput\r\n            required\r\n            placeholder=\"Name on Card\"\r\n            name=\"nameOnCard\"\r\n            handleChange={evt => setNameOnCard(evt.target.value)}\r\n            value={nameOnCard}\r\n            type=\"text\"\r\n          />\r\n\r\n          <FormInput\r\n            required\r\n            placeholder=\"Line 1\"\r\n            name=\"line1\"\r\n            handleChange={evt => handleBilling(evt)}\r\n            value={billingAddress.line1}\r\n            type=\"text\"\r\n          />\r\n\r\n          <FormInput\r\n            placeholder=\"Line 2\"\r\n            name=\"line2\"\r\n            handleChange={evt => handleBilling(evt)}\r\n            value={billingAddress.line2}\r\n            type=\"text\"\r\n          />\r\n\r\n          <FormInput\r\n            required\r\n            placeholder=\"City\"\r\n            name=\"city\"\r\n            handleChange={evt => handleBilling(evt)}\r\n            value={billingAddress.city}\r\n            type=\"text\"\r\n          />\r\n\r\n          <FormInput\r\n            required\r\n            placeholder=\"State\"\r\n            name=\"state\"\r\n            handleChange={evt => handleBilling(evt)}\r\n            value={billingAddress.state}\r\n            type=\"text\"\r\n          />\r\n\r\n          <FormInput\r\n            required\r\n            placeholder=\"Postal Code\"\r\n            name=\"postal_code\"\r\n            handleChange={evt => handleBilling(evt)}\r\n            value={billingAddress.postal_code}\r\n            type=\"text\"\r\n          />\r\n\r\n          <div className=\"formRow checkoutInput\">\r\n            <CountryDropdown\r\n              required\r\n              onChange={val => handleBilling({\r\n                target: {\r\n                  name: 'country',\r\n                  value: val\r\n                }\r\n              })}\r\n              value={billingAddress.country}\r\n              valueType=\"short\"\r\n            />\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <div className=\"group\">\r\n          <h2>\r\n            Card Details\r\n          </h2>\r\n\r\n          <CardElement\r\n            options={configCardElement}\r\n          />\r\n        </div>\r\n\r\n        <Button\r\n          type=\"submit\"\r\n        >\r\n          Pay Now\r\n        </Button>\r\n\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PaymentDetails;\r\n","import React from 'react';\r\nimport PaymentDetails from './../../components/PaymentDetails';\r\nimport { Elements } from '@stripe/react-stripe-js';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\nimport { publishableKey } from './../../stripe/config';\r\n\r\nconst stripePromise = loadStripe(publishableKey);\r\n\r\nconst Payment = () => {\r\n  return (\r\n    <Elements stripe={stripePromise}>\r\n      <PaymentDetails />\r\n    </Elements>\r\n  );\r\n}\r\n\r\nexport default Payment;\r\n","//from strip api public key\r\nexport const publishableKey = 'pk_test_51JVvUsDsMBDJbisi3kU4Axl4q2ZPvOExIxUyuhMbHCxd8UMGKTrtrAniZtOTad94Oqm4LV2M7kA8whyIEEtpjFMT00zC13qCUk';","import React, { useEffect } from 'react';\r\nimport {\r\n  TableContainer, Table, TableHead,\r\n  TableBody, TableRow, TableCell\r\n} from '@material-ui/core';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setOrderDetails } from './../../redux/Orders/orders.actions';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'productThumbnail',\r\n    label: ''\r\n  },\r\n  {\r\n    id: 'productName',\r\n    label: 'Name'\r\n  },\r\n  {\r\n    id: 'productPrice',\r\n    label: 'Price'\r\n  },\r\n  {\r\n    id: 'quantity',\r\n    label: 'Quantity'\r\n  }\r\n]\r\n\r\nconst styles = {\r\n  fontSize: '16px',\r\n  width: '10%'\r\n};\r\n\r\nconst formatText = (columnName, columnValue) => {\r\n  switch(columnName) {\r\n    case 'productPrice':\r\n      return `£${columnValue}`;\r\n    case 'productThumbnail':\r\n      return <img src={columnValue} width={250} />;\r\n    default:\r\n      return columnValue;\r\n  }\r\n}\r\n\r\nconst OrderDetails = ({ order }) => {\r\n  const dispatch = useDispatch();\r\n  const orderItems = order && order.orderItems;\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      dispatch(\r\n        setOrderDetails({})\r\n      );\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <TableContainer>\r\n      <Table>\r\n\r\n        <TableHead>\r\n          <TableRow>\r\n\r\n            {columns.map((col, pos) => {\r\n              return (\r\n                <TableCell\r\n                  key={pos}\r\n                  style={styles}\r\n                >\r\n                  {col.label}\r\n                </TableCell>\r\n              )\r\n            })}\r\n\r\n          </TableRow>\r\n        </TableHead>\r\n\r\n        <TableBody>\r\n\r\n          {(Array.isArray(orderItems) && orderItems.length > 0) && orderItems.map((row, pos) => {\r\n            return (\r\n              <TableRow key={pos}>\r\n\r\n                {columns.map((col, pos) => {\r\n                  const columnName = col.id;\r\n                  const columnValue = row[columnName];\r\n\r\n                  return (\r\n                    <TableCell\r\n                      key={pos}\r\n                      style={styles}\r\n                    >\r\n                      {formatText(columnName, columnValue)}\r\n                    </TableCell>\r\n                  )\r\n                })}\r\n\r\n              </TableRow>\r\n            )\r\n          })}\r\n\r\n        </TableBody>\r\n\r\n      </Table>\r\n    </TableContainer>\r\n  )\r\n}\r\n\r\nexport default OrderDetails;\r\n","import React, { useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { getOrderDetailsStart } from './../../redux/Orders/orders.actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport OrderDetails from './../../components/OrderDetails';\r\n\r\nconst mapState = ({ ordersData }) => ({\r\n  orderDetails: ordersData.orderDetails\r\n});\r\n\r\nconst Order = () => {\r\n  const { orderID } = useParams();\r\n  const dispatch = useDispatch();\r\n  const { orderDetails } = useSelector(mapState);\r\n  const { orderTotal } = orderDetails;\r\n\r\n  useEffect(() => {\r\n\r\n    dispatch(\r\n      getOrderDetailsStart(orderID)\r\n    );\r\n\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n\r\n      <h1>\r\n        Order ID: #{orderID}\r\n      </h1>\r\n\r\n      <OrderDetails order={orderDetails} />\r\n\r\n      <h3>\r\n        Total: {orderTotal}\r\n      </h3>\r\n\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default Order;","import React, { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport { checkUserSession } from './redux/User/user.actions';\r\n\r\n// components\r\nimport AdminToolbar from './components/AdminToolbar';\r\n\r\n// hoc\r\nimport WithAuth from './hoc/withAuth';\r\nimport WithAdminAuth from './hoc/withAdminAuth';\r\n\r\n// layouts\r\nimport MainLayout from './layouts/MainLayout';\r\nimport HomepageLayout from './layouts/HomepageLayout';\r\nimport AdminLayout from './layouts/AdminLayout';\r\nimport DashboardLayout from './layouts/DashboardLayout';\r\n\r\n// pages\r\nimport Homepage from './pages/Homepage';\r\nimport Search from './pages/Search';\r\nimport Registration from './pages/Registration';\r\nimport Login from './pages/Login';\r\nimport Recovery from './pages/Recovery';\r\nimport Dashboard from './pages/Dashboard';\r\nimport Admin from './pages/Admin';\r\nimport ProductDetails from './pages/ProductDetails';\r\nimport Cart from './pages/Cart';\r\nimport Payment from './pages/Payment';\r\nimport Order from './pages/Order';\r\nimport './default.scss';\r\n\r\nconst App = props => {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(checkUserSession());\r\n\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <AdminToolbar />\r\n      <Switch>\r\n        <Route exact path=\"/\" render={() => (\r\n          <HomepageLayout>\r\n            <Homepage />\r\n          </HomepageLayout>\r\n        )}\r\n        />\r\n        <Route exact path=\"/search\" render={() => (\r\n          <MainLayout>\r\n            <Search />\r\n          </MainLayout>\r\n        )} />\r\n        <Route path=\"/search/:filterType\" render={() => (\r\n          <MainLayout>\r\n            <Search />\r\n          </MainLayout>\r\n        )} />\r\n        <Route path=\"/product/:productID\" render={() => (\r\n          <MainLayout>\r\n            <ProductDetails />\r\n          </MainLayout>\r\n        )} />\r\n        <Route path=\"/cart\" render={() => (\r\n          <MainLayout>\r\n            <Cart />\r\n          </MainLayout>\r\n        )} />\r\n        <Route path=\"/payment\" render={() => (\r\n          <WithAuth>\r\n            <MainLayout>\r\n              <Payment />\r\n            </MainLayout>\r\n          </WithAuth>\r\n        )} />\r\n        <Route path=\"/registration\" render={() => (\r\n          <MainLayout>\r\n            <Registration />\r\n          </MainLayout>\r\n        )} />\r\n        <Route path=\"/login\"\r\n          render={() => (\r\n            <MainLayout>\r\n              <Login />\r\n            </MainLayout>\r\n          )} />\r\n        <Route path=\"/recovery\" render={() => (\r\n          <MainLayout>\r\n            <Recovery />\r\n          </MainLayout>\r\n        )} />\r\n        <Route path=\"/dashboard\" render={() => (\r\n          <WithAuth>\r\n            <DashboardLayout>\r\n              <Dashboard />\r\n            </DashboardLayout>\r\n          </WithAuth>\r\n        )} />\r\n        <Route path=\"/order/:orderID\" render={() => (\r\n          <WithAuth>\r\n            <DashboardLayout>\r\n              <Order />\r\n            </DashboardLayout>\r\n          </WithAuth>\r\n        )} />\r\n        <Route path=\"/admin\" render={() => (\r\n          <WithAdminAuth>\r\n            <AdminLayout>\r\n              <Admin />\r\n            </AdminLayout>\r\n          </WithAdminAuth>\r\n        )} />\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport { store, persistor } from './redux/createStore';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <BrowserRouter>\r\n        <PersistGate persistor={persistor}>\r\n          <App />\r\n        </PersistGate>\r\n      </BrowserRouter>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n","module.exports = __webpack_public_path__ + \"static/media/logo-PNG.01260383.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/shopMens.19190d05.jpg\";","module.exports = __webpack_public_path__ + \"static/media/shopWomens.c9c60ae5.jpg\";"],"sourceRoot":""}